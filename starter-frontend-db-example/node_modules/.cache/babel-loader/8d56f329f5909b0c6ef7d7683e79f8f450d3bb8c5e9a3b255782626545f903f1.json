{"ast":null,"code":"import _toConsumableArray from\"/Users/emm12/repos/fastapi-starter/starter-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/emm12/repos/fastapi-starter/starter-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App.css';import{useEffect,useState}from'react';import{create,getAll,deletePerson,updatePerson}from'./services/people';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),age=_useState2[0],setAge=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),people=_useState6[0],setPeople=_useState6[1];useEffect(function(){getAll().then(function(response){setPeople(response.data);});},[]);var handleSubmit=function handleSubmit(e){e.preventDefault();create(name,age).then(function(response){setPeople([].concat(_toConsumableArray(people),[response.data]));});};var handleDelete=function handleDelete(id){deletePerson(id).then(function(){var newPeople=people.filter(function(person){return person._id!==id;});setPeople(newPeople);});};var handleUpdate=function handleUpdate(id){updatePerson(id,name,age).then(function(response){var newPeople=people.map(function(person){if(person._id===id){return response.data;}else{return person;}});setPeople(newPeople);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"People\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"name\",value:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"age\",value:age,onChange:function onChange(e){return setAge(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add\"})]}),/*#__PURE__*/_jsx(\"ul\",{children:people.map(function(person){return/*#__PURE__*/_jsxs(\"li\",{children:[person.name,\" is \",person.age,\" years old\",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleDelete(person._id);},children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleUpdate(person._id);},children:\"Update\"})]},person._id);})})]});}export default App;","map":{"version":3,"names":["useEffect","useState","create","getAll","deletePerson","updatePerson","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","age","setAge","_useState3","_useState4","name","setName","_useState5","_useState6","people","setPeople","then","response","data","handleSubmit","e","preventDefault","concat","_toConsumableArray","handleDelete","id","newPeople","filter","person","_id","handleUpdate","map","className","children","onSubmit","type","placeholder","value","onChange","target","onClick"],"sources":["/Users/emm12/repos/fastapi-starter/starter-frontend/src/App.js"],"sourcesContent":["import './App.css';\r\nimport { useEffect, useState } from 'react';\r\n\r\nimport { create, getAll, deletePerson, updatePerson } from './services/people';\r\n\r\n\r\nfunction App() {\r\n  const [age, setAge] = useState(0);\r\n  const [name, setName] = useState('');\r\n  const [people, setPeople] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getAll().then((response) => {\r\n      setPeople(response.data);\r\n    });\r\n  }, []);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    create(name, age).then((response) => {\r\n      setPeople([...people, response.data]);\r\n    });\r\n  };\r\n\r\n  const handleDelete = (id) => {\r\n    deletePerson(id).then(() => {\r\n      const newPeople = people.filter((person) => person._id !== id);\r\n      setPeople(newPeople);\r\n    });\r\n  };\r\n\r\n  const handleUpdate = (id) => {\r\n    updatePerson(id, name, age).then((response) => {\r\n      const newPeople = people.map((person) => {\r\n        if (person._id === id) {\r\n          return response.data;\r\n        } else {\r\n          return person;\r\n        }\r\n      });\r\n      setPeople(newPeople);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>People</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"name\"\r\n          value={name}\r\n          onChange={(e) => setName(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          placeholder=\"age\"\r\n          value={age}\r\n          onChange={(e) => setAge(e.target.value)}\r\n        />\r\n        <button type=\"submit\">Add</button>\r\n      </form>\r\n      <ul>\r\n        {people.map((person) => (\r\n          <li key={person._id}>\r\n            {person.name} is {person.age} years old\r\n            <button onClick={() => handleDelete(person._id)}>Delete</button>\r\n            <button onClick={() => handleUpdate(person._id)}>Update</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}